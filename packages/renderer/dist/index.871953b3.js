var T=Object.defineProperty,O=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var x=(e,n,a)=>n in e?T(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,_=(e,n)=>{for(var a in n||(n={}))E.call(n,a)&&x(e,a,n[a]);if(p)for(var a of p(n))N.call(n,a)&&x(e,a,n[a]);return e},b=(e,n)=>O(e,j(n));var m=(e,n)=>{var a={};for(var s in e)E.call(e,s)&&n.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&p)for(var s of p(e))n.indexOf(s)<0&&N.call(e,s)&&(a[s]=e[s]);return a};import{j as t,c as h,o as G,C as Z,L as R,a as B,b as l,F as V,T as g,d as f,r as W,M as $,R as v,S as L,I as S,e as w,B as y,f as q,g as H,D as J,h as K,i as k,P as Q,k as U,l as X,m as Y,z as ee}from"./vendor.206bfbc7.js";const te=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const D of o.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&s(D)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};te();const ne="_container_bcol5_1",ae="_header_bcol5_7",se="_footer_bcol5_8",ce="_noDrag_bcol5_18",re="_content_bcol5_31",ue="_logo_bcol5_36",le="_mini_bcol5_49",oe="_close_bcol5_50",ie="_setting_bcol5_72";var i={container:ne,header:ae,footer:se,noDrag:ce,content:re,logo:ue,mini:le,close:oe,setting:ie};const de="_row_tf4d9_1",_e="_col_tf4d9_7",me="_start_tf4d9_13",he="_end_tf4d9_17",ge="_between_tf4d9_21",fe="_around_tf4d9_25",Fe="_evenly_tf4d9_29",pe="_center_tf4d9_33";var d={row:de,col:_e,start:me,end:he,between:ge,around:fe,evenly:Fe,center:pe};function F(e){const s=e,{children:n}=s,a=m(s,["children"]);return t("div",b(_({},a),{children:n}))}function ve(e){const s=e,{className:n}=s,a=m(s,["className"]);return t(F,_({className:h(d.row,d.start,n)},a))}function M(e){const s=e,{className:n}=s,a=m(s,["className"]);return t(F,_({className:h(d.row,d.between,n)},a))}function P(e){const s=e,{className:n}=s,a=m(s,["className"]);return t(F,_({className:h(d.row,d.center,n)},a))}function De(e){const s=e,{className:n}=s,a=m(s,["className"]);return t(F,_({className:h(d.col,d.start,n)},a))}function Be(e){const s=e,{className:n}=s,a=m(s,["className"]);return t(F,_({className:h(d.col,d.center,n)},a))}var we="icon.69a77ddd.svg";const ye="_container_8wdgc_1",Ce="_ttitle_8wdgc_27",Ae="_list_8wdgc_31",Ee="__status_8wdgc_47",Ne="__oldSize_8wdgc_51",xe="__newSize_8wdgc_55",be="__rate_8wdgc_59",Le="__action_8wdgc_63",Se="_statusDone_8wdgc_67",ke="_dragZone_8wdgc_71",Me="_icon_8wdgc_83",Pe="_mask_8wdgc_102",Ie="_dragActive_8wdgc_111";var u={container:ye,ttitle:Ce,list:Ae,_status:Ee,_oldSize:Ne,_newSize:xe,_rate:be,_action:Le,statusDone:Se,dragZone:ke,icon:Me,mask:Pe,dragActive:Ie};const I=[{name:"\u8986\u76D6\u4FDD\u5B58",value:"cover"},{name:"\u522B\u540D\u4FDD\u5B58",value:"alias"},{name:"\u6253\u5305\u53E6\u5B58",value:"bundle"}],c=G.object({saveType:"cover",showSetting:!1,scaleMode:"percent",scalePercent:100,scaleWidth:void 0,scaleHeight:void 0,qualityPercent:70,dragActive:!1,list:[]});var C;(function(e){e.JPG="image/jpeg",e.JPEG="image/jpeg",e.PNG="image/png",e.APNG="image/apng",e.WEBP="image/webp",e.GIF="image/gif",e.AVIF="image/avif",e.SVG="image/svg+xml"})(C||(C={}));function ze(){return Object.keys(C).join("/")}const A=[{key:"status",title:"\u72B6\u6001",className:u._status,render(e){let n=t(Z,{className:u.statusDone});return e.status===0&&(n=t(R,{className:u.statusActive})),n}},{key:"name",title:"\u540D\u79F0",className:u._name},{key:"oldSize",title:"\u539F\u5927\u5C0F",className:u._oldSize},{key:"newSize",title:"\u65B0\u5927\u5C0F",className:u._newSize},{key:"rate",title:"\u538B\u7F29\u7387",className:u._rate},{key:"action",title:"\u64CD\u4F5C",className:u._action}];function z(){return t("colgroup",{children:A.map(e=>t("col",{className:e.className},e.key))})}function Te(){if(c.list&&c.list.length>0){const e=c.list.map(n=>{const a=A.map(s=>{let r=n[s.key];return typeof s.render=="function"&&(r=s.render(n)),t("td",{children:r},s.key)});return t("tr",{children:a},n.key)});return l("table",{children:[z(),t("tbody",{children:e})]})}return l(Be,{className:h(u.dragZone,c.dragActive&&u.dragActive),children:[t(V,{className:u.icon}),t(g.Title,{level:2,children:"\u62D6\u62FD\u6216\u9009\u53D6\u8981\u538B\u7F29\u7684\u56FE\u7247\u5230\u8FD9\u91CC"}),l("p",{children:["\u652F\u6301",ze(),"\u683C\u5F0F"]}),t("div",{className:u.mask,onDragOver:e=>{e.preventDefault(),c.dragActive||(c.dragActive=!0)},onDragLeave:()=>{c.dragActive=!1},onDrop:e=>{e.preventDefault(),c.dragActive=!1;let n=[];for(let a=0;a<e.dataTransfer.items.length;a++)if(e.dataTransfer.items[a].kind==="file"){const s=e.dataTransfer.items[a].getAsFile();n.push({path:s.path,status:1})}window.TxxCompressApp.addImageList(n)}})]})}const Oe=B(()=>l(De,{className:u.container,children:[l("table",{className:u.ttitle,children:[z(),t("thead",{children:t("tr",{children:A.map(e=>t("th",{children:e.title},e.key))})})]}),t("div",{className:u.list,children:Te()})]})),je="_close_1yahj_1";var Ge={close:je};const Ze=B(()=>{const[e]=f.useForm();W.exports.useEffect(()=>{e&&e.setFieldsValue({scaleMode:c.scaleMode,scalePercent:c.scalePercent,scaleWidth:c.scaleWidth,scaleHeight:c.scaleWidth,qualityPercent:c.qualityPercent})},[e]);const n=()=>{if(console.log(c.scaleMode),c.scaleMode==="percent")return t(f.Item,{label:"\u7F29\u653E\u5230\u6BD4\u4F8B",name:"scalePercent",children:t(L,{})});if(c.scaleMode==="width")return t(f.Item,{label:"\u7F29\u653E\u5230\u5BBD\u5EA6",name:"ScalaeWidth",children:t(S,{placeholder:"\u8BBE\u7F6E\u56FA\u5B9A\u5BBD\u5EA6\uFF0C\u9AD8\u5EA6\u81EA\u9002\u5E94",allowClear:!0,suffix:"px"})});if(c.scaleMode==="height")return t(f.Item,{label:"\u7F29\u653E\u5230\u9AD8\u5EA6",name:"scaleHeight",children:t(S,{placeholder:"\u8BBE\u7F6E\u56FA\u5B9A\u9AD8\u5EA6\uFF0C\u5BBD\u5EA6\u5EA6\u81EA\u9002\u5E94",allowClear:!0,suffix:"px"})})};return t($,{maskClosable:!0,width:350,visible:c.showSetting,centered:!0,title:"\u538B\u7F29\u9009\u9879\u8BBE\u7F6E",okText:"\u7ACB\u5373\u5E94\u7528",cancelText:"\u91CD\u7F6E\u9009\u9879",forceRender:!0,closeIcon:t("svg",{viewBox:"0 0 24 24",className:Ge.close,children:t("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})}),onCancel:()=>{c.showSetting=!1},children:l(f,{layout:"vertical",form:e,onValuesChange:a=>{a.scaleMode&&(c.scaleMode=a.scaleMode)},children:[t(f.Item,{label:"\u7F29\u653E\u6A21\u5F0F",name:"scaleMode",extra:"\u4E3A\u9632\u6B62\u53D8\u5F62\uFF0C\u4EFB\u610F\u6A21\u5F0F\u90FD\u4F1A\u4FDD\u6301\u539F\u59CB\u5BBD\u9AD8\u6BD4",children:l(v.Group,{children:[t(v,{value:"percent",children:"\u7F29\u653E\u5230\u6BD4\u4F8B"}),t(v,{value:"width",children:"\u7F29\u653E\u5230\u5BBD\u5EA6"}),t(v,{value:"height",children:"\u7F29\u653E\u5230\u9AD8\u5EA6"})]})}),n(),t(f.Item,{label:"\u538B\u7F29\u8D28\u91CF",name:"qualityPercent",extra:"\u8D28\u91CF\u503C\u8D8A\u5927\uFF0C\u6587\u4EF6\u4F53\u79EF\u8D8A\u5927\uFF0C\u538B\u7F29\u7387\u8D8A\u4F4E",children:t(L,{})})]})})}),Re=B(()=>l("div",{className:i.container,children:[l(M,{className:i.header,children:[t(w,{children:l(ve,{className:i.logo,children:[t("img",{alt:"",src:we}),t(g.Title,{level:5,children:"\u56FE\u5C0F\u5C0F"})]})}),l(w,{className:h(i.action,i.noDrag),children:[t(y,{className:i.setting,icon:t(q,{}),size:"small",type:"link",onClick:()=>c.showSetting=!0,children:"\u538B\u7F29\u9009\u9879"}),t(P,{className:i.mini,onClick:()=>{window.TxxCompressApp.minimizeApp()},children:t("svg",{viewBox:"0 0 24 24",children:t("path",{d:"M19,13H5V11H19V13Z"})})}),t(P,{className:i.close,onClick:()=>{window.TxxCompressApp.closeApp()},children:t("svg",{viewBox:"0 0 24 24",children:t("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})})})]})]}),t("div",{className:i.content,children:t(Oe,{})}),l(M,{className:i.footer,children:[l(g.Text,{type:"secondary",children:["\u5171",t(g.Text,{type:"warning",children:"21"}),"\u5F20\u56FE\u7247\uFF0C\u538B\u7F29\u524D",t(g.Text,{type:"warning",children:"3.2M"}),"\uFF0C\u538B\u7F29\u540E",t(g.Text,{type:"warning",children:"1.2M"}),"\uFF0C\u538B\u7F29\u7387",t(g.Text,{type:"warning",children:"75%"})]}),l(w,{className:i.noDrag,children:[t(y,{icon:t(H,{}),children:"\u6E05\u7A7A\u5217\u8868"}),t(J.Button,{type:"primary",icon:t(K,{}),overlay:t(k,{onClick:({key:e})=>{c.saveType=e},children:I.map(e=>t(k.Item,{children:e.name},e.value))}),children:I.find(e=>e.value===c.saveType)?.name}),t(y,{type:"primary",icon:t(Q,{}),children:"\u6DFB\u52A0\u56FE\u7247"})]})]}),t(Ze,{})]}));U({enforceActions:"never",useProxies:"ifavailable"});X.exports.render(t(Y,{locale:ee,children:t(Re,{})}),document.getElementById("root"));
